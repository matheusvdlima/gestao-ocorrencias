<div class="home-container">

  <h1 class="welcome-title">Bem-vindo(a), {{ usuario }}!</h1>

  <div class="stats-cards">
    <mat-card class="stat-card primary">
      <h3>Total de Ocorrências</h3>
      <p class="value">{{ totalOcorrencias }}</p>
      <span>Todos os tempos</span>
    </mat-card>

    <mat-card class="stat-card">
      <h3>Resolvidas</h3>
      <p class="value">{{ resolvidas }}</p>
      <span>Concluídas</span>
      <mat-icon class="card-icon">check_circle</mat-icon>
    </mat-card>

    <mat-card class="stat-card">
      <h3>Críticas</h3>
      <p class="value">{{ criticas }}</p>
      <span>Alta Prioridade</span>
      <mat-icon class="card-icon">priority_high</mat-icon>
    </mat-card>

    <mat-card class="stat-card">
      <h3>Abertas</h3>
      <p class="value">{{ abertas }}</p>
      <span>Em Revisão</span>
      <mat-icon class="card-icon">folder_open</mat-icon>
    </mat-card>

    <mat-card class="stat-card">
      <h3>Não Resolvidas</h3>
      <p class="value">{{ naoResolvidas }}</p>
      <span>Pendente</span>
      <mat-icon class="card-icon">hourglass_empty</mat-icon>
    </mat-card>

    <mat-card class="stat-card">
      <h3>Baixa Prioridade</h3>
      <p class="value">{{ baixaPrioridade }}</p>
      <span>Monitorar</span>
      <mat-icon class="card-icon">low_priority</mat-icon>
    </mat-card>
  </div>

  <div class="dashboard-grid">
    <div class="incidents-section">
      <h2>Ocorrências recentes</h2>
      <mat-card class="incidents-card">
        <table>
          <thead>
            <tr>
              <th>Título</th>
              <th>Status</th>
              <th>Prioridade</th>
              <th>Responsável</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ocorrencia of ocorrencias">
              <td>{{ ocorrencia.titulo }}</td>
              <td>{{ ocorrencia.status.label }}</td>
              <td [ngClass]="ocorrencia.prioridade.code">
                <mat-icon matTooltip="{{ ocorrencia.prioridade.label }}">circle</mat-icon>
              </td>
              <td>{{ ocorrencia.emailResponsavel }}</td>
            </tr>
          </tbody>
        </table>
      </mat-card>
    </div>

    <mat-card class="alerts-card">
      <mat-card-title>Notificações</mat-card-title>
      <div class="alerts-content">
        Nenhuma notificação disponível
      </div>
    </mat-card>
  </div>
</div>
